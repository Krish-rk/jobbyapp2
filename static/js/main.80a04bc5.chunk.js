(this["webpackJsonpjobby-app"]=this["webpackJsonpjobby-app"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(25),i=n.n(r),a=n(5),o=n(3),j=n(28),l=n(6),b=n.n(l),d=n(0),h=function(e){var t=b.a.get("jwt_token");return console.log(t),void 0===t?Object(d.jsx)(o.a,{to:"/login"}):Object(d.jsx)(o.b,Object(j.a)({},e))},p=n(9),u=n(12),O=n(13),x=n(14),m=n(16),g=n(15),f=function(e){function t(){var e;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=Object(m.a)(this,t,[].concat(c))).state={details:""},e.getUserDetails=Object(u.a)(Object(p.a)().mark((function t(){var n,c,s,r,i,a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://apis.ccbp.in/profile",n=b.a.get("jwt_token"),c={headers:{Authorization:"Bearer ".concat(n)},method:"GET"},t.next=5,fetch("https://apis.ccbp.in/profile",c);case 5:if(!(s=t.sent).ok){t.next=13;break}return t.next=9,s.json();case 9:r=t.sent,i=r.profile_details,a={name:i.name,imageUrl:i.profile_image_url,bio:i.short_bio},e.setState({details:a});case 13:case"end":return t.stop()}}),t)}))),e}return Object(g.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.getUserDetails()}},{key:"render",value:function(){var e=this.state.details,t=e.name,n=e.imageUrl,c=e.bio;return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:n,alt:t}),Object(d.jsx)("h1",{children:t}),Object(d.jsx)("p",{children:c})]})}}])}(c.Component),y=f,v=function(e){var t=e.item,n=t.desc,c=t.title,s=t.companyUrl,r=t.employementType,i=t.packages,o=t.rating,j=t.id,l=t.location;return Object(d.jsx)(a.b,{to:"/jobs/".concat(j),children:Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:s}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:c}),Object(d.jsx)("p",{children:o})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:l}),Object(d.jsx)("p",{children:r}),Object(d.jsx)("p",{children:i})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Description"}),Object(d.jsx)("p",{children:n})]})]})})},k=[{salaryRangeId:"1000000",label:"10 LPA and above"},{salaryRangeId:"2000000",label:"20 LPA and above"},{salaryRangeId:"3000000",label:"30 LPA and above"},{salaryRangeId:"4000000",label:"40 LPA and above"}],w=function(e){function t(){var e;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=Object(m.a)(this,t,[].concat(c))).state={jobsList:[],salaryRange:"",searchInput:""},e.getJobs=Object(u.a)(Object(p.a)().mark((function t(){var n,c,s,r,i,a,o,j,l,d;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.a.get("jwt_token"),c=e.state,s=c.salaryRange,r=c.searchInput,console.log(s),i="https://apis.ccbp.in/jobs?&minimum_package=".concat(s,"&search=").concat(r),a={headers:{Authorization:"Bearer ".concat(n)},method:"GET"},t.next=7,fetch(i,a);case 7:return o=t.sent,t.next=10,o.json();case 10:j=t.sent,l=j.jobs,d=l.map((function(e){return{companyUrl:e.company_logo_url,employmentType:e.employment_type,id:e.id,desc:e.job_description,packages:e.package_per_annum,rating:e.rating,title:e.title,location:e.location}})),e.setState({jobsList:d});case 14:case"end":return t.stop()}}),t)}))),e.onChangeSalary=function(t){e.setState({salaryRange:t.target.value},e.getJobs)},e}return Object(g.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.getJobs()}},{key:"render",value:function(){var e=this,t=this.state.jobsList;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(y,{}),Object(d.jsx)("h1",{children:"Type of Employment"}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{htmlFor:"FULLTIME",children:"Full TIme"}),Object(d.jsx)("input",{type:"checkbox",id:"FULLTIME"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{htmlFor:"PARTTIME",children:"Part Time"}),Object(d.jsx)("input",{type:"checkbox",id:"PARTTIME"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{htmlFor:"FREELANCE",children:"Freelance"}),Object(d.jsx)("input",{type:"checkbox",id:"FREELANCE"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{htmlFor:"INTERNSHIP",children:"Full Internship"}),Object(d.jsx)("input",{type:"checkbox",id:"INTERNSHIP"})]})]}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("h1",{children:"Salary Range"}),k.map((function(t){return Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{htmlFor:t.salaryRangeId,children:t.label}),Object(d.jsx)("input",{type:"radio",name:"range",id:t.salaryRangeId,onChange:e.onChangeSalary,value:t.salaryRangeId})]},t.salaryRangeId)}))]})]}),Object(d.jsx)("ul",{children:t.map((function(e){return Object(d.jsx)(v,{item:e},e.id)}))})]})}}])}(c.Component),_=w,T=Object(o.g)((function(e){return Object(d.jsxs)("nav",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(a.b,{to:"/",children:Object(d.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/logo-img.png",alt:"website logo"})})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(a.b,{to:"/",children:"Home"}),Object(d.jsx)(a.b,{to:"/jobs",children:"Job"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){b.a.remove("jwt_token"),e.history.replace("/login")},children:"Logout"})})]})})),S=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(T,{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Find The Job That Fits Your Life"}),Object(d.jsx)("p",{children:"Millions of peopls"}),Object(d.jsx)(a.b,{to:"/jobs",children:Object(d.jsx)("button",{children:"Find Jobs"})})]})]})},E=n(27),F=n.n(E),I=function(e){var t=e.item,n=t.desc,c=t.title,s=t.companyUrl,r=t.employementType,i=t.rating,a=(t.id,t.location);t.life,t.skills;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:s}),Object(d.jsx)("h1",{children:c}),Object(d.jsx)("p",{children:i})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Description"}),Object(d.jsx)("p",{children:n}),Object(d.jsx)("p",{children:a}),Object(d.jsx)("p",{children:r})]})]})},L=function(e){function t(){var e;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=Object(m.a)(this,t,[].concat(c))).state={jobDetails:[],similarJobs:[],isLoading:!0},e.getJobDetails=Object(u.a)(Object(p.a)().mark((function t(){var n,c,s,r,i,a,o,j,l,d,h,u;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.a.get("jwt_token"),c=e.props.match,s=c.params,r=s.id,i="https://apis.ccbp.in/jobs/".concat(r),a={headers:{Authorization:"Bearer ".concat(n)},method:"GET"},t.next=8,fetch(i,a);case 8:return o=t.sent,t.next=11,o.json();case 11:j=t.sent,l=j.job_details,console.log(l),d=j.similar_jobs,h={companyUrl:l.company_logo_url,employmentType:l.employment_type,id:l.id,desc:l.job_description,packages:l.package_per_annum,rating:l.rating,title:l.title,location:l.location,life:l.life_at_company,skills:l.skills},u=d.map((function(e){return{companyUrl:e.company_logo_url,webUrl:e.company_website_url,employmentType:e.employment_type,id:e.id,desc:e.job_description,rating:e.rating,title:e.title,location:e.location}})),e.setState({jobDetails:h,similarJobs:u,isLoading:!1});case 18:case"end":return t.stop()}}),t)}))),e}return Object(g.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.getJobDetails()}},{key:"render",value:function(){var e=this.state,t=e.jobDetails,n=e.similarJobs,c=e.isLoading,s=t.desc,r=(t.title,t.companyUrl),i=t.employementType,a=t.packages,o=t.rating,j=(t.id,t.location),l=(t.life,t.skills),b=t.webUrl;return c?Object(d.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(d.jsx)(F.a,{type:"ThreeDots",color:"#ffffff",height:"50",width:"50"})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:r,alt:"website logo"}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:o})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:j}),Object(d.jsx)("p",{children:i}),Object(d.jsx)("p",{children:a}),Object(d.jsx)("a",{href:b,children:"Visit"})]})]}),Object(d.jsx)("h1",{children:"Description"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:s}),Object(d.jsx)("h1",{children:"Skills"}),Object(d.jsx)("ul",{children:l.map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:e.image_url}),Object(d.jsx)("p",{children:e.name})]})}))})]}),Object(d.jsx)("h1",{children:"Similar Jobs"}),Object(d.jsx)("ul",{children:n.map((function(e){return Object(d.jsx)(I,{item:e},e.id)}))})]})}}])}(c.Component),R=L,A=function(e){function t(){var e;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=Object(m.a)(this,t,[].concat(c))).state={username:"",password:"",error:"",showErr:!1},e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.loginFailure=function(t){e.setState({error:t,showErr:!0})},e.loginSuccess=function(t){var n=e.props.history,c=t.jwt_token;b.a.set("jwt_token",c,{expires:30}),n.replace("/")},e.onLogin=function(){var t=Object(u.a)(Object(p.a)().mark((function t(n){var c,s,r,i,a,o,j,l;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.state,s=c.username,r=c.password,i={username:s,password:r},"https://apis.ccbp.in/login",a={method:"POST",body:JSON.stringify(i)},t.next=7,fetch("https://apis.ccbp.in/login",a);case 7:if(!0!==(o=t.sent).ok){t.next=15;break}return t.next=11,o.json();case 11:j=t.sent,e.loginSuccess(j),t.next=19;break;case 15:return t.next=17,o.json();case 17:l=t.sent,e.loginFailure(l.error_msg);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(g.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,c=e.showErr,s=e.error;return void 0!==b.a.get("jwt_token")?Object(d.jsx)(o.a,{to:"/"}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/logo-img.png",alt:"website logo"}),Object(d.jsxs)("form",{onSubmit:this.onLogin,children:[Object(d.jsx)("label",{htmlFor:"username",children:"USERNAME"}),Object(d.jsx)("input",{type:"text",id:"username",onChange:this.onChangeUsername,value:t}),Object(d.jsx)("label",{htmlFor:"password",children:"PASSWORD"}),Object(d.jsx)("input",{type:"password",id:"password",onChange:this.onChangePassword,value:n}),Object(d.jsx)("button",{type:"submit",children:"Login"}),c&&Object(d.jsx)("p",{children:s})]})]})})}}])}(c.Component),U=A,C=(n(57),function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/jobby-app-not-found-img.png",alt:"not found"}),Object(d.jsx)("h1",{children:"Page Not Found"}),Object(d.jsx)("p",{children:"We are sorry, the page you requested could not be found"})]})}),D=function(){return Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/login",component:U}),Object(d.jsx)(h,{exact:!0,path:"/",component:S}),Object(d.jsx)(h,{exact:!0,path:"/jobs",component:_}),Object(d.jsx)(h,{exact:!0,path:"/jobs/:id",component:R}),Object(d.jsx)(C,{})]})};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(a.a,{children:Object(d.jsx)(D,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.80a04bc5.chunk.js.map